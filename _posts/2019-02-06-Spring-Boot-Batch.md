---
layout: post
title:  "Spring Boot Batch"
image: ''
date:   2019-02-06 00:10:00
tags:
- Spring Boot
- TIL
description: ''
categories:
- Spring Boot
---

<br/>
<br/>

{% highlight javascript %}
{% endhighlight %}


## 스프링 부트 배치의 장점
- 대용량 데이터 처리에 최적화되어 고성능을 발휘합니다.
- 효과적인 로깅, 통계 처리, 트랜잭션 관리 등 재사용 가능한 필수 기능을 지원합니다.
- 수동으로 처리하지 않도록 자동화 되어 있습니다.
- 예외사항과 비정상 동작에 대한 방어 기능이 있습니다.
- 스프링 부트 배치의 반복되는 작업 프로세스를 이해하면 비즈니스 로직에 집중할 수 있습니다.

## 주의 사항
1. 가능하면 단순화해서 복잡한 구조와 로직을 피해야 합니다.
2. 데이터를 직접 사용하는 작업이 빈번하게 일어나므로 데이터 무결성을 유지하는 유효성 검사 등의 방어책이 있어야 합니다.
3. 배치 처리 시 시스템 I/O 사용을 최소화해야 합니다. 잦은 I/O로 데이터베이스 커넥션과 네트워크 비용이 커지면 성능에 영향을 줄 수 있기 때문입니다. 따라서 가능하면 한번에 데이터를 조회하여 메모리에 저장해두고 처리한 다음, 그 결과를 한번에 데이터베이스에 저장하는 것이 좋습니다.
4. 일반적으로 같은 서비스에 사용되는 웹, API, 배치, 기타 프로젝트들은 서로 영향을 줍니다. 따라서 배치 처리가 진행되는 동안 다른 프로젝트 요소에 영향을 주는 경우가 없는지 주의를 기울여야 합니다.
5. 스프링 부트 배치는 스케줄러를 제공하지 않습니다. 배치 처리 기능만 제공하며 스케줄링 기능은 스프링에서 제공하는 Quartz Framework, IBM Tivoil, BMC Control-M 등을 이용해야 합니다.

## 배치 처리
- Job이라는 하나의 큰 일감에 여러 단계(Step)를 두고, 각 단계를 배치의 기본 흐름대로 구현
- 하나의 Step 안에 Tasklet 혹은 Reader & Processor & Writer 묶음이 존재

<img src="{{ "/assets/img/Spring-Boot-Batch/guide.jpg"}}" alt="">
